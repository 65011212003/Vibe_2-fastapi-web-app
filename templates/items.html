<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Management - FastAPI Web App</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/auth.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/items.css') }}">
</head>
<body>
    <header>
        <nav>
            <div class="logo">FastAPI Web App</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/items" class="active">Items</a></li>
                <li><a href="/login" id="login-link">Login</a></li>
                <li><a href="/register" id="register-link">Register</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="items-container">
            <div class="container">
                <h1>Item Management</h1>
                
                <!-- Authentication Message -->
                <div id="auth-message" class="non-auth-content">
                    <p>You need to <a href="/login">login</a> to create, edit, or delete items.</p>
                </div>
                
                <!-- Item Form (visible only when authenticated) -->
                <div id="item-form-container" class="auth-content" style="display: none;">
                    <h2 id="form-title">Create New Item</h2>
                    <form id="item-form">
                        <input type="hidden" id="item-id">
                        <div class="form-group">
                            <label for="item-name">Name</label>
                            <input type="text" id="item-name" required>
                        </div>
                        <div class="form-group">
                            <label for="item-description">Description</label>
                            <textarea id="item-description" rows="3"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" id="save-item-btn">Save Item</button>
                            <button type="button" id="cancel-btn" class="cancel-btn">Cancel</button>
                        </div>
                    </form>
                </div>
                
                <!-- Item List -->
                <div class="items-section">
                    <div class="items-header">
                        <h2>All Items</h2>
                        <button id="new-item-btn" class="auth-content" style="display: none;">Add New Item</button>
                    </div>
                    
                    <div id="items-list" class="items-grid">
                        <p id="loading-message">Loading items...</p>
                    </div>
                </div>
                
                <!-- Item Deletion Confirmation Modal -->
                <div id="delete-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <h3>Confirm Deletion</h3>
                        <p>Are you sure you want to delete this item? This action cannot be undone.</p>
                        <div class="modal-actions">
                            <button id="confirm-delete-btn" class="danger-btn">Delete</button>
                            <button id="cancel-delete-btn" class="cancel-btn">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 FastAPI Web App</p>
        </div>
    </footer>

    <script src="{{ url_for('static', path='/js/auth.js') }}"></script>
    <script src="{{ url_for('static', path='/js/items.js') }}"></script>
</body>
</html>